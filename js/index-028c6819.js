import{H as Q}from"./rounded-button-f939e53f.js";import{t as Ne,Q as se,au as $e,av as Oe,a1 as le,T as J,X as oe,R as Pe,h as ze,V as Fe,J as Ve,y as $}from"./app-c79d7097.js";import{T as De}from"./index-2c962807.js";import{k as Be,e as Ue,f as Me,h as We,u as Xe}from"./use-store-ref-10b7967e.js";import{u as qe}from"./use-table-17c69ba1.js";import{m as he}from"./marked.esm-bfa291d5.js";import{d as V,a6 as re,a7 as ae,a8 as q,b as n,r as O,ab as ue,a as Ge,Z as w,ag as He,z as K,F as Qe,ap as Je}from"./create-injection-key-6dff4bbb.js";import{N as Ke,a as Z}from"./Tabs-8be888cd.js";import{T as Ze}from"./Trash-ae70a891.js";import{N as je}from"./Avatar-bfec934f.js";import{b as P}from"./p-d5bd0779.js";import{ag as fe,Z as E,a8 as j}from"./Card-720de80b.js";import{N as Ye}from"./Popconfirm-8705d822.js";import{N as et}from"./Form-190bf06a.js";import{N as ce}from"./FormItemRow-b51a45c7.js";import"./fade-in.cssr-c6d077ce.js";import"./preload-helper-f651ca80.js";import"./DataTable-ee8322e1.js";import"./ChevronRight-d32dd5c3.js";import"./Checkbox-130849a4.js";import"./light-4a540c7a.js";import"./light-dcf71249.js";import"./light-758cc2d5.js";import"./light-b93dede2.js";import"./light-806b66fd.js";import"./Select-a912f9f4.js";import"./Tag-945120fa.js";import"./_common-991711fd.js";import"./Pagination-b72c8488.js";import"./Forward-d74203eb.js";import"./prop-8b8caa29.js";import"./Tooltip-e8ef26b6.js";import"./Add-fbc91806.js";import"./throttle-9e276cae.js";import"./light-64b8c660.js";import"./utils-8fb188d9.js";import"./light-9254275d.js";import"./light-432a397e.js";import"./light-8a4490bb.js";import"./FormItem-94ab7cfc.js";const tt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},rt=q("g",{fill:"none"},[q("path",{d:"M17.5 12a5.5 5.5 0 1 1 0 10.999a5.5 5.5 0 0 1 0-11zM12 1.997c5.524 0 10.002 4.478 10.002 10.002c0 .263-.01.524-.03.782a6.503 6.503 0 0 0-1.475-1.052a8.501 8.501 0 1 0-8.765 8.767c.28.54.635 1.036 1.05 1.474c-.257.02-.518.03-.782.03c-5.524 0-10.002-4.478-10.002-10.001C1.998 6.476 6.476 1.998 12 1.998zm5.5 12l-.09.008a.5.5 0 0 0-.402.402l-.008.09v2.5L14.498 17l-.09.008a.5.5 0 0 0-.402.402l-.008.09l.008.09a.5.5 0 0 0 .402.402l.09.008H17v2.504l.008.09a.5.5 0 0 0 .402.401l.09.009l.09-.009a.5.5 0 0 0 .402-.402l.008-.09v-2.504l2.504.001l.09-.008a.5.5 0 0 0 .402-.402l.008-.09l-.008-.09a.5.5 0 0 0-.402-.402l-.09-.008H18v-2.5l-.008-.09a.5.5 0 0 0-.402-.403l-.09-.008zm-9.038.785a4.494 4.494 0 0 0 2.63 1.626a6.449 6.449 0 0 0-.079 1.51a5.982 5.982 0 0 1-3.73-2.208a.75.75 0 1 1 1.179-.928zM9 8.75a1.25 1.25 0 1 1 0 2.499A1.25 1.25 0 0 1 9 8.75zm6 0a1.25 1.25 0 1 1 0 2.499a1.25 1.25 0 0 1 0-2.499z",fill:"currentColor"})],-1),at=[rt],nt=V({name:"EmojiAdd24Regular",render:function(r,t){return re(),ae("svg",tt,at)}}),it={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},st=q("path",{fill:"none",stroke:"currentColor","stroke-linecap":"square","stroke-miterlimit":"10","stroke-width":"44",d:"M416 128L192 384l-96-96"},null,-1),lt=[st],ot=V({name:"CheckmarkSharp",render:function(r,t){return re(),ae("svg",it,lt)}}),ut={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ft=q("path",{d:"M400 145.49L366.51 112L256 222.51L145.49 112L112 145.49L222.51 256L112 366.51L145.49 400L256 289.49L366.51 400L400 366.51L289.49 256L400 145.49z",fill:"currentColor"},null,-1),ct=[ft],gt=V({name:"CloseSharp",render:function(r,t){return re(),ae("svg",ut,ct)}}),dt=["(o^▽^o)","(⌒▽⌒)☆","<(￣︶￣)>","ヽ(・∀・)ﾉ","(￣ω￣)","(o･ω･o)","(＠＾◡＾)","(^人^)","(o´▽`o)","(*´▽`*)","(≧◡≦)","(o´∀`o)","(＾▽＾)","(⌒ω⌒)","╰(▔∀▔)╯","(─‿‿─)","(*^‿^*)","(✯◡✯)","(◕‿◕)","(*≧ω≦*)","(☆▽☆)","(⌒‿⌒)","＼(≧▽≦)／","(*°▽°*)","(✧ω✧)","(￣▽￣)","o(≧▽≦)o","(☆ω☆)","＼(￣▽￣)／","(*¯︶¯*)","＼(＾▽＾)／","٩(◕‿◕)۶","(o˘◡˘o)","\\(★ω★)/","\\(^ヮ^)/","(〃＾▽＾〃)","(╯✧▽✧)╯","o(>ω<)o","(๑˃ᴗ˂)ﻭ","(๑˘︶˘๑)","(⁀ᗢ⁀)","(￢‿￢ )","(¬‿¬ )","(*￣▽￣)b","( ˙▿˙ )","(¯▿¯)","( ◕▿◕ )","(ᵔ◡ᵔ)","(♡μ_μ)","(*^^*)♡","(♡-_-♡)","(￣ε￣＠)","ヽ(♡‿♡)ノ","(─‿‿─)♡","(*♡∀♡)","(◕‿◕)♡","(ღ˘⌣˘ღ)","(♡°▽°♡)","(♡˙︶˙♡)","(≧◡≦) ♡","(⌒▽⌒)♡","٩(♡ε♡)۶","♡ (￣З￣)","(❤ω❤)","(´♡‿♡`)","(°◡°♡)","(´꒳`)♡","♡(>ᴗ•)","(⌒_⌒;)","(o^ ^o)","(*/ω＼)","(*/。＼)","(*/_＼)","(*ﾉωﾉ)","(o-_-o)","(*μ_μ)","(ᵔ.ᵔ)","(*ﾉ∀`*)","(//▽//)","(//ω//)","(*^.^*)","(*ﾉ▽ﾉ)","(￣▽￣*)ゞ","(*/▽＼*)","(„ಡωಡ„)","( 〃▽〃)","(/▿＼ )","(＃＞＜)","(；￣Д￣)","(￣□￣」)","(＃￣0￣)","(＃￣ω￣)","(￢_￢;)","(＞ｍ＜)","(」°ロ°)」","(＾＾＃)","(︶︹︺)","(￣ヘ￣)","(￣︿￣)","(＞﹏＜)","(--_--)","凸(￣ヘ￣)","(⇀‸↼‶)","o(>< )o","(」＞＜)」","(ᗒᗣᗕ)՞","(눈_눈)","(＃`Д´)","(`皿´＃)","(・`ω´・)","(`ー´)","凸(`△´＃)","( `ε´ )","ヽ(‵﹏´)ノ","(╬`益´)","Σ(▼□▼メ)","(°ㅂ°╬)","(ノ°益°)ノ","(‡▼益▼)","(╬ Ò﹏Ó)","(凸ಠ益ಠ)凸","٩(ఠ益ఠ)۶","(ﾉಥ益ಥ)ﾉ","(≖､≖╬)","(ノ_<。)","(-_-)","(´-ω-`)","(μ_μ)","(ﾉД`)","(-ω-、)","o(TヘTo)","(｡╯︵╰｡)","(个_个)","(╯︵╰,)","( ╥ω╥ )","(╯_╰)","(╥_╥)","(／ˍ・、)","(ノ_<、)","(╥﹏╥)","(つω`｡)","(ﾉω･､)","(T_T)","(>_<)","o(〒﹏〒)o","(ಥ﹏ಥ)","(ಡ‸ಡ)","~(>_<~)","☆⌒(>。<)","(☆_@)","(×_×)","(x_x)","(×_×)⌒☆","(x_x)⌒☆","(×﹏×)","☆(＃××)","(＋_＋)","٩(× ×)۶","(ﾒ﹏ﾒ)","(ノωヽ)","(／。＼)","(ﾉ_ヽ)","(″ロ゛)","(・人・)","＼(〇_ｏ)／","(/ω＼)","(/_＼)","〜(＞＜)〜","┐(￣ヘ￣)┌","╮(￣_￣)╭","ヽ(ˇヘˇ)ノ","┐(￣～￣)┌","┐(︶▽︶)┌","╮(￣～￣)╭","╮(︶︿︶)╭","┐(￣∀￣)┌","╮(︶▽︶)╭","┐(￣ヮ￣)┌","ᕕ( ᐛ )ᕗ","┐(シ)┌","(￣ω￣;)","σ(￣、￣〃)","(￣～￣;)","(・_・ヾ","(〃￣ω￣〃ゞ","(・_・;)","(＠_＠)","(・・;)ゞ","Σ(￣。￣ﾉ)","(・・ ) ?","(◎ ◎)ゞ","(ーー;)","(¯  ¯٥)","(￢_￢)","(→_→)","(￢ ￢)","(￢‿￢ )","(¬_¬ )","(←_←)","(¬ ¬ )","(¬‿¬ )","(↼_↼)","(⇀_⇀)","(ᓀ ᓀ)","w(°ｏ°)w","ヽ(°〇°)ﾉ","Σ(O_O)","Σ(°ロ°)","(⊙_⊙)","(o_O)","(O_O;)","(O.O)","(°ロ°) !","(o_O) !","(□_□)","Σ(□_□)","∑(O_O;)","(*・ω・)ﾉ","(￣▽￣)ノ","(°▽°)/","(^-^*)/","＼(⌒▽⌒)","ヾ(☆▽☆)","(^０^)ノ","~ヾ(・ω・)","(・∀・)ノ","ヾ(・ω・*)","(*°ｰ°)ﾉ","(・_・)ノ","(￣ω￣)/","(⌒ω⌒)ﾉ","(≧▽≦)/","(✧∀✧)/","(￣▽￣)/","(つ≧▽≦)つ","(つ✧ω✧)つ","(っಠ‿ಠ)っ","(づ◡﹏◡)づ","⊂(￣▽￣)⊃","(^_~)","( ﾟｏ⌒)","(^_-)≡☆","(^ω~)","(>ω^)","(~人^)","(^_-)","( -_・)","(^_<)〜☆","(^人<)〜☆","☆⌒(ゝ。∂)","(^_<)","(^_−)☆","(･ω<)☆","(^.~)☆","(^.~)","(>ᴗ•)","m(_ _)m","(シ_ _)シ","m(. .)m","<(_ _)>","人(_ _*)","(*_ _)人","(シ. .)シ","(*￣ii￣)","(￣ﾊ￣*)","\\(￣ﾊ￣)","(＾་།＾)","(＾〃＾)","(￣ ¨ヽ￣)","(￣ ;￣)","(￣ ;;￣)","|･ω･)","ﾍ(･_|","|ω･)ﾉ","ヾ(･|","|д･)","|_￣))","|▽//)","|_・)","|･д･)ﾉ","|ʘ‿ʘ)╯","__φ(．．)","__φ(。。)","(=①ω①=)","(=`ω´=)","(=^‥^=)","( =ω= )","( =ω= )","(^◔ᴥ◔^)","(^◕ᴥ◕^)","ต(=ω=)ต","(￣(ｴ)￣)","(／(ｴ)＼)","ʕ ᵔᴥᵔ ʔ","ʕ •ᴥ• ʔ","ʕಠᴥಠʔ","∪＾ェ＾∪","∪･ω･∪","∪￣-￣∪","∪･ｪ･∪","Ｕ^皿^Ｕ","ＵＴｪＴＵ","U^ｪ^U","V●ᴥ●V","U・ᴥ・U","／(＞×＜)＼","／(˃ᆺ˂)＼","(￣(ω)￣)","(￣Θ￣)","(`･Θ･´)","(◉Θ◉)","(･θ･)","(・Θ・)","(･Θ･)","ζ°)))彡",">°))))彡","(°))<<","―(T_T)→","Q(`⌒´Q)","(っ˘ڡ˘ς)","ヘ(￣ω￣ヘ)","(〜￣▽￣)〜","〜(￣▽￣〜)","(ﾉ≧∀≦)ﾉ","√(￣‥￣√)","└(＾＾)┐","┌(＾＾)┘","＼(￣▽￣)＼","／(￣▽￣)／","(^_^♪)","(~˘▽˘)~","~(˘▽˘~)","(〜￣△￣)〜","(~‾▽‾)~","~(˘▽˘)~","(≖ ͜ʖ≖)","(￣^￣)ゞ","(－‸ლ)","(oT-T)尸","(ಠ_ಠ)","(￣﹃￣)","(　･ω･)☞","(⌐■_■)","(◕‿◕✿)"];var pt=[[/\*/g,"\\*","asterisks"],[/#/g,"\\#","number signs"],[/\//g,"\\/","slashes"],[/\(/g,"\\(","parentheses"],[/\)/g,"\\)","parentheses"],[/\[/g,"\\[","square brackets"],[/\]/g,"\\]","square brackets"],[/</g,"&lt;","angle brackets"],[/>/g,"&gt;","angle brackets"],[/_/g,"\\_","underscores"],[/`/g,"\\`","codeblocks"]],vt=function(e,r){return r=r||[],pt.reduce(function(t,a){var l=a[2];return l&&r.indexOf(l)!==-1?t:t.replace(a[0],a[1])},e)},ee=(e=>(e[e.Unread=0]="Unread",e[e.Read=1]="Read",e[e.Junk=2]="Junk",e))(ee||{}),te={exports:{}},v={},F={exports:{}},R={};function be(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function mt(e,r,t){}function ht(e,r,t){}var bt=/javascript\s*\:/img;function yt(e,r){return bt.test(r)?"":r}R.whiteList=be();R.getDefaultWhiteList=be;R.onAttr=mt;R.onIgnoreAttr=ht;R.safeAttrValue=yt;var xt={indexOf:function(e,r){var t,a;if(Array.prototype.indexOf)return e.indexOf(r);for(t=0,a=e.length;t<a;t++)if(e[t]===r)return t;return-1},forEach:function(e,r,t){var a,l;if(Array.prototype.forEach)return e.forEach(r,t);for(a=0,l=e.length;a<l;a++)r.call(t,e[a],a,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},z=xt;function _t(e,r){e=z.trimRight(e),e[e.length-1]!==";"&&(e+=";");var t=e.length,a=!1,l=0,o=0,g="";function f(){if(!a){var c=z.trim(e.slice(l,o)),u=c.indexOf(":");if(u!==-1){var m=z.trim(c.slice(0,u)),h=z.trim(c.slice(u+1));if(m){var x=r(l,g.length,m,h,c);x&&(g+=x+"; ")}}}l=o+1}for(;o<t;o++){var s=e[o];if(s==="/"&&e[o+1]==="*"){var d=e.indexOf("*/",o+2);if(d===-1)break;o=d+1,l=o+1,a=!1}else s==="("?a=!0:s===")"?a=!1:s===";"?a||f():s===`
`&&f()}return z.trim(g)}var wt=_t,U=R,kt=wt;function ge(e){return e==null}function At(e){var r={};for(var t in e)r[t]=e[t];return r}function ye(e){e=At(e||{}),e.whiteList=e.whiteList||U.whiteList,e.onAttr=e.onAttr||U.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||U.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||U.safeAttrValue,this.options=e}ye.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var r=this,t=r.options,a=t.whiteList,l=t.onAttr,o=t.onIgnoreAttr,g=t.safeAttrValue,f=kt(e,function(s,d,c,u,m){var h=a[c],x=!1;if(h===!0?x=h:typeof h=="function"?x=h(u):h instanceof RegExp&&(x=h.test(u)),x!==!0&&(x=!1),u=g(c,u),!!u){var y={position:d,sourcePosition:s,source:m,isWhite:x};if(x){var b=l(c,u,y);return ge(b)?c+":"+u:b}else{var b=o(c,u,y);if(!ge(b))return b}}});return f};var Tt=ye;(function(e,r){var t=R,a=Tt;function l(g,f){var s=new a(f);return s.process(g)}r=e.exports=l,r.FilterCSS=a;for(var o in t)r[o]=t[o];typeof window<"u"&&(window.filterCSS=e.exports)})(F,F.exports);var ne={indexOf:function(e,r){var t,a;if(Array.prototype.indexOf)return e.indexOf(r);for(t=0,a=e.length;t<a;t++)if(e[t]===r)return t;return-1},forEach:function(e,r,t){var a,l;if(Array.prototype.forEach)return e.forEach(r,t);for(a=0,l=e.length;a<l;a++)r.call(t,e[a],a,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var r=/\s|\n|\t/,t=r.exec(e);return t?t.index:-1}},St=F.exports.FilterCSS,Et=F.exports.getDefaultWhiteList,G=ne;function xe(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var _e=new St;function Lt(e,r,t){}function Ct(e,r,t){}function It(e,r,t){}function Rt(e,r,t){}function we(e){return e.replace($t,"&lt;").replace(Ot,"&gt;")}function Nt(e,r,t,a){if(t=Le(t),r==="href"||r==="src"){if(t=G.trim(t),t==="#")return"#";if(!(t.substr(0,7)==="http://"||t.substr(0,8)==="https://"||t.substr(0,7)==="mailto:"||t.substr(0,4)==="tel:"||t.substr(0,11)==="data:image/"||t.substr(0,6)==="ftp://"||t.substr(0,2)==="./"||t.substr(0,3)==="../"||t[0]==="#"||t[0]==="/"))return""}else if(r==="background"){if(M.lastIndex=0,M.test(t))return""}else if(r==="style"){if(de.lastIndex=0,de.test(t)||(pe.lastIndex=0,pe.test(t)&&(M.lastIndex=0,M.test(t))))return"";a!==!1&&(a=a||_e,t=a.process(t))}return t=Ce(t),t}var $t=/</g,Ot=/>/g,Pt=/"/g,zt=/&quot;/g,Ft=/&#([a-zA-Z0-9]*);?/gim,Vt=/&colon;?/gim,Dt=/&newline;?/gim,M=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,de=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,pe=/u\s*r\s*l\s*\(.*/gi;function ke(e){return e.replace(Pt,"&quot;")}function Ae(e){return e.replace(zt,'"')}function Te(e){return e.replace(Ft,function(t,a){return a[0]==="x"||a[0]==="X"?String.fromCharCode(parseInt(a.substr(1),16)):String.fromCharCode(parseInt(a,10))})}function Se(e){return e.replace(Vt,":").replace(Dt," ")}function Ee(e){for(var r="",t=0,a=e.length;t<a;t++)r+=e.charCodeAt(t)<32?" ":e.charAt(t);return G.trim(r)}function Le(e){return e=Ae(e),e=Te(e),e=Se(e),e=Ee(e),e}function Ce(e){return e=ke(e),e=we(e),e}function Bt(){return""}function Ut(e,r){typeof r!="function"&&(r=function(){});var t=!Array.isArray(e);function a(g){return t?!0:G.indexOf(e,g)!==-1}var l=[],o=!1;return{onIgnoreTag:function(g,f,s){if(a(g))if(s.isClosing){var d="[/removed]",c=s.position+d.length;return l.push([o!==!1?o:s.position,c]),o=!1,d}else return o||(o=s.position),"[removed]";else return r(g,f,s)},remove:function(g){var f="",s=0;return G.forEach(l,function(d){f+=g.slice(s,d[0]),s=d[1]}),f+=g.slice(s),f}}}function Mt(e){for(var r="",t=0;t<e.length;){var a=e.indexOf("<!--",t);if(a===-1){r+=e.slice(t);break}r+=e.slice(t,a);var l=e.indexOf("-->",a);if(l===-1)break;t=l+3}return r}function Wt(e){var r=e.split("");return r=r.filter(function(t){var a=t.charCodeAt(0);return a===127?!1:a<=31?a===10||a===13:!0}),r.join("")}v.whiteList=xe();v.getDefaultWhiteList=xe;v.onTag=Lt;v.onIgnoreTag=Ct;v.onTagAttr=It;v.onIgnoreTagAttr=Rt;v.safeAttrValue=Nt;v.escapeHtml=we;v.escapeQuote=ke;v.unescapeQuote=Ae;v.escapeHtmlEntities=Te;v.escapeDangerHtml5Entities=Se;v.clearNonPrintableCharacter=Ee;v.friendlyAttrValue=Le;v.escapeAttrValue=Ce;v.onIgnoreTagStripAll=Bt;v.StripTagBody=Ut;v.stripCommentTag=Mt;v.stripBlankChar=Wt;v.cssFilter=_e;v.getDefaultCSSWhiteList=Et;var H={},L=ne;function Xt(e){var r=L.spaceIndex(e),t;return r===-1?t=e.slice(1,-1):t=e.slice(1,r+1),t=L.trim(t).toLowerCase(),t.slice(0,1)==="/"&&(t=t.slice(1)),t.slice(-1)==="/"&&(t=t.slice(0,-1)),t}function qt(e){return e.slice(0,2)==="</"}function Gt(e,r,t){var a="",l=0,o=!1,g=!1,f=0,s=e.length,d="",c="";e:for(f=0;f<s;f++){var u=e.charAt(f);if(o===!1){if(u==="<"){o=f;continue}}else if(g===!1){if(u==="<"){a+=t(e.slice(l,f)),o=f,l=f;continue}if(u===">"||f===s-1){a+=t(e.slice(l,o)),c=e.slice(o,f+1),d=Xt(c),a+=r(o,a.length,d,c,qt(c)),l=f+1,o=!1;continue}if(u==='"'||u==="'")for(var m=1,h=e.charAt(f-m);h.trim()===""||h==="=";){if(h==="="){g=u;continue e}h=e.charAt(f-++m)}}else if(u===g){g=!1;continue}}return l<s&&(a+=t(e.substr(l))),a}var Ht=/[^a-zA-Z0-9\\_:.-]/gim;function Qt(e,r){var t=0,a=0,l=[],o=!1,g=e.length;function f(m,h){if(m=L.trim(m),m=m.replace(Ht,"").toLowerCase(),!(m.length<1)){var x=r(m,h||"");x&&l.push(x)}}for(var s=0;s<g;s++){var d=e.charAt(s),c,u;if(o===!1&&d==="="){o=e.slice(t,s),t=s+1,a=e.charAt(t)==='"'||e.charAt(t)==="'"?t:Kt(e,s+1);continue}if(o!==!1&&s===a){if(u=e.indexOf(d,s+1),u===-1)break;c=L.trim(e.slice(a+1,u)),f(o,c),o=!1,s=u,t=s+1;continue}if(/\s|\n|\t/.test(d))if(e=e.replace(/\s|\n|\t/g," "),o===!1)if(u=Jt(e,s),u===-1){c=L.trim(e.slice(t,s)),f(c),o=!1,t=s+1;continue}else{s=u-1;continue}else if(u=Zt(e,s-1),u===-1){c=L.trim(e.slice(t,s)),c=ve(c),f(o,c),o=!1,t=s+1;continue}else continue}return t<e.length&&(o===!1?f(e.slice(t)):f(o,ve(L.trim(e.slice(t))))),L.trim(l.join(" "))}function Jt(e,r){for(;r<e.length;r++){var t=e[r];if(t!==" ")return t==="="?r:-1}}function Kt(e,r){for(;r<e.length;r++){var t=e[r];if(t!==" ")return t==="'"||t==='"'?r:-1}}function Zt(e,r){for(;r>0;r--){var t=e[r];if(t!==" ")return t==="="?r:-1}}function jt(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function ve(e){return jt(e)?e.substr(1,e.length-2):e}H.parseTag=Gt;H.parseAttr=Qt;var Yt=F.exports.FilterCSS,T=v,Ie=H,er=Ie.parseTag,tr=Ie.parseAttr,X=ne;function W(e){return e==null}function rr(e){var r=X.spaceIndex(e);if(r===-1)return{html:"",closing:e[e.length-2]==="/"};e=X.trim(e.slice(r+1,-1));var t=e[e.length-1]==="/";return t&&(e=X.trim(e.slice(0,-1))),{html:e,closing:t}}function ar(e){var r={};for(var t in e)r[t]=e[t];return r}function nr(e){var r={};for(var t in e)Array.isArray(e[t])?r[t.toLowerCase()]=e[t].map(function(a){return a.toLowerCase()}):r[t.toLowerCase()]=e[t];return r}function Re(e){e=ar(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=T.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=nr(e.whiteList||e.allowList):e.whiteList=T.whiteList,e.onTag=e.onTag||T.onTag,e.onTagAttr=e.onTagAttr||T.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||T.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||T.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||T.safeAttrValue,e.escapeHtml=e.escapeHtml||T.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new Yt(e.css))}Re.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var r=this,t=r.options,a=t.whiteList,l=t.onTag,o=t.onIgnoreTag,g=t.onTagAttr,f=t.onIgnoreTagAttr,s=t.safeAttrValue,d=t.escapeHtml,c=r.cssFilter;t.stripBlankChar&&(e=T.stripBlankChar(e)),t.allowCommentTag||(e=T.stripCommentTag(e));var u=!1;t.stripIgnoreTagBody&&(u=T.StripTagBody(t.stripIgnoreTagBody,o),o=u.onIgnoreTag);var m=er(e,function(h,x,y,b,D){var N={sourcePosition:h,position:x,isClosing:D,isWhite:Object.prototype.hasOwnProperty.call(a,y)},C=l(y,b,N);if(!W(C))return C;if(N.isWhite){if(N.isClosing)return"</"+y+">";var B=rr(b),i=a[y],_=tr(B.html,function(p,k){var I=X.indexOf(i,p)!==-1,A=g(y,p,k,I);return W(A)?I?(k=s(y,p,k,c),k?p+'="'+k+'"':p):(A=f(y,p,k,I),W(A)?void 0:A):A});return b="<"+y,_&&(b+=" "+_),B.closing&&(b+=" /"),b+=">",b}else return C=o(y,b,N),W(C)?d(b):C},d);return u&&(m=u.remove(m)),m};var ir=Re;(function(e,r){var t=v,a=H,l=ir;function o(f,s){var d=new l(s);return d.process(f)}r=e.exports=o,r.filterXSS=o,r.FilterXSS=l,function(){for(var f in t)r[f]=t[f];for(var s in a)r[s]=a[s]}(),typeof window<"u"&&(window.filterXSS=e.exports);function g(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}g()&&(self.filterXSS=e.exports)})(te,te.exports);const sr=te.exports;he.use({renderer:{html(e){return sr(e)}}});const lr=e=>he.parse(e,{gfm:!0}),Y=V({props:{text:{type:String,required:!0}},setup(e){return()=>n("div",{innerHTML:lr(e.text)},null)}});function me(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Je(e)}var S;(function(e){e[e.Pending=0]="Pending",e[e.Marked=1]="Marked",e[e.Trash=2]="Trash"})(S||(S={}));const Qr=V(()=>{const e=Be(),r=Ue(),t=O(+e.query.state),{data:a,checkedRowKeys:l,fetchDataFn:o,pager:g,loading:f}=qe((i,_)=>async(p=e.query.page||1,k=10)=>{const I=e.query.state,A=await $.api.comments.get({params:{page:p,size:k,state:I|0}});i.value=A.data,_.value=A.pagination}),s=Ne(),d=O(!1),c=O(null),u=O(""),m=O(),h=O(!1),x=async()=>{if(c.value)try{h.value=!0,await $.api.comments.master.reply(c.value.id).post({data:{text:u.value}}),d.value=!1,c.value=null,s.success("回复成功啦~"),u.value="",await y()}finally{h.value=!1}},y=o;ue(()=>e.query.page,async i=>{await y(i)},{immediate:!0}),ue(()=>e.query.state,async i=>{a.value=[],l.value=[],K(()=>y())});async function b(i,_){Array.isArray(i)?await Promise.all(i.map(p=>$.api.comments(p).patch({data:{state:_}}))):await $.api.comments(i).patch({data:{state:_}}),s.success("操作完成"),await y()}async function D(i){if(Array.isArray(i))try{await Promise.all(i.map(_=>$.api.comments(_).delete({errorHandler:p=>{}})))}catch{}else await $.api.comments(i).delete();await y(),s.success("删除成功")}const N=Ge([{title:"",key:"avatar",width:60,render(i){return n(je,{circle:!0,src:i.avatar},null)}},{title:"作者",key:"author",width:200,render(i){return n(P,{vertical:!0,size:2},{default:()=>[n("div",{class:"inline-flex items-center space-x-2"},[i.isWhispers&&n(se,null,{default:()=>[n($e,null,null)]}),n("a",{href:i.url||"#",target:"_blank",rel:"noreferrer"},[i.author])]),n("a",{href:`mailto:${i.mail}`||"",target:"_blank"},[i.mail]),n("div",null,[n(Oe,{ip:i.ip,trigger:"hover",triggerEl:n(le,{depth:"3",class:"select-all"},{default:()=>[i.ip]})},null)])]})}},{title:"内容",key:"text",render(i){const _=(()=>{switch(i.refType){case"Post":return`${J}/posts/${i.ref.category.slug}/${i.ref.slug}`;case"Note":return`${J}/notes/${i.ref.nid}`;case"Page":return`${J}/${i.ref.slug}`}})();return n(P,{vertical:!0,size:2},{default:()=>[n(P,{size:5},{default:()=>[n("span",null,[oe(i.created)]),n("span",null,[w("于")]),i.ref.title&&n("a",{href:_,target:"_blank"},[i.ref.title]),i.ref.content&&n(fe,null,{default(){return n("p",null,[i.ref.content])},trigger(){return n(E,{text:!0,size:"tiny",type:"primary"},{default:()=>[w("速记")]})}})]}),n("p",null,[n(Y,{text:i.text},null)]),i.parent&&n("blockquote",{class:"border-l-[3px] border-solid border-primary-default pl-[12px] my-2 ml-4"},[n(P,{size:2,align:"center"},{default:()=>[n(le,{depth:"2"},{default:()=>[i.parent.author,w(" 在 "),oe(i.parent.created),w(" 说: "),n(Y,{text:i.parent.text},null)]})]})]),n("div",{class:"space-x-3"},[t.value!==S.Marked&&n(E,{text:!0,size:"tiny",type:"success",onClick:()=>b(i.id,1)},{default:()=>[w("已读")]}),t.value!==S.Trash&&n(E,{text:!0,size:"tiny",type:"warning",onClick:()=>b(i.id,2)},{default:()=>[w("垃圾")]}),t.value!==S.Trash&&n(E,{text:!0,size:"tiny",type:"info",onClick:p=>{c.value=i,d.value=!0}},{default:()=>[w("回复")]}),n(Ye,{positiveText:"取消",negativeText:"删除",onNegativeClick:()=>{D(i.id)}},{trigger:()=>n(E,{text:!0,size:"tiny",type:"error"},{default:()=>[w("删除")]}),default:()=>n("span",{class:"max-w-48"},[w("确定要删除 "),i.title,w(" ?")])})])]})}}]),C=Me(),{viewport:B}=We(Xe);return()=>n(Ve,{actionsElement:n(Qe,null,[t.value!==S.Marked&&n(Q,{name:"已读",disabled:l.value.length===0,icon:n(ot,null,null),variant:"success",onClick:()=>{b(l.value,ee.Read),l.value.length=0}},null),t.value!==S.Trash&&n(Q,{name:"标记为垃圾",disabled:l.value.length===0,icon:n(Ze,null,null),variant:"warning",onClick:()=>{b(l.value,ee.Junk),l.value.length=0}},null),n(Q,{name:"删除",icon:n(gt,null,null),variant:"error",disabled:l.value.length===0,onClick:()=>{C.warning({title:"警告",content:"你确定要删除多条评论？",negativeText:"确定",positiveText:"不确定",onNegativeClick:async()=>{await D(l.value),l.value.length=0}})}},null)])},{default:()=>[n(Ke,{size:"medium",value:t.value,onUpdateValue:i=>{r.replace({name:Pe.Comment,query:{state:i}}).then(()=>{t.value=i})}},{default:()=>[n(Z,{name:S.Pending,tab:"未读"},{default:()=>[n("div",{class:""},null)]}),n(Z,{name:S.Marked,tab:"已读"},{default:()=>[n("div",{class:""},null)]}),n(Z,{name:S.Trash,tab:"垃圾"},{default:()=>[n("div",{class:""},null)]})]}),n(De,{maxWidth:600,data:a,loading:f.value,onFetchData:y,pager:g,onUpdateCheckedRowKeys:i=>{l.value=i},columns:[{type:"selection",options:["none","all"],width:50},...N]},null),n(ze,{transformOrigin:"center",show:!!d.value,onUpdateShow:i=>{i||(d.value=i)}},{default:()=>[c.value&&n(j,{style:"width: 500px;max-width: 90vw",headerStyle:{textAlign:"center"},title:`回复: ${c.value.author}`},{default:()=>[n(et,{onSubmit:x},{default:()=>[n(ce,{label:`${c.value.author} 说:`},{default:()=>[n(j,{embedded:!0,bordered:!0,class:"h-[100px] overflow-auto !p-2 !px-4 cursor-default !text-gray-500",contentStyle:{padding:"0"}},{default:()=>[n(Y,{text:c.value.text},null)]})]}),n(ce,{label:"回复内容"},{default:()=>[n(Fe,{ref:m,value:u.value,type:"textarea",onInput:i=>u.value=i,autosize:{minRows:4,maxRows:10}},null)]}),n("div",{class:"flex justify-between"},[n(fe,{trigger:"click",placement:B.value.mobile?"top-end":"left"},{trigger(){return n(E,{text:!0,class:"text-[20px]"},{default:()=>[n(se,null,{default:()=>[n(nt,null,null)]})]})},default(){let i;return n(j,{style:"max-width: 300px; max-height: 500px",class:"overflow-auto",bordered:!1},{default:()=>[n(P,{align:"center",class:"!justify-between"},me(i=dt.map(_=>n(E,{text:!0,key:_,type:"primary",onClick:()=>{if(!m.value)return;const p=He(m.value).textareaElRef;p.focus(),K(()=>{const k=p.selectionStart,I=p.selectionEnd,A=vt(_);p.value=`${p.value.substring(0,k)} ${A} ${p.value.substring(I,p.value.length)}`,u.value=p.value,K(()=>{const ie=k+A.length+2;p.selectionStart=ie,p.selectionEnd=ie,p.focus()})})}},me(_)?_:{default:()=>[_]})))?i:{default:()=>[i]})]})}}),n(P,{size:12,align:"center",inline:!0},{default:()=>[n(E,{type:"success",onClick:x,round:!0,loading:h.value},{default:()=>[w("确定")]}),n(E,{onClick:()=>{u.value="",d.value=!1},round:!0},{default:()=>[w("取消")]})]})])]})]})]})]})});export{Qr as default};
