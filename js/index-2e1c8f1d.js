import{_ as n}from"./preload-helper-f651ca80.js";import{u as _}from"./use-async-monaco-326c16e1.js";import{x as b}from"./app-0ff7b4dc.js";import{k as M,y as h,at as p,R as x,U as f,v as E}from"./Button-2747a3c5.js";class O{created;id}const w=`
export default async function handler(ctx: Context) {
  return 'pong';
}
`.trimStart();var S=(e=>(e.JSON="json",e.JSON5="json5",e.Function="function",e.Text="text",e.YAML="yaml",e))(S||{}),j=(e=>(e.json="json",e.json5="plaintext",e.function="typescript",e.text="markdown",e.yaml="yaml",e))(j||{});class N extends O{type="json";private=!1;raw="{}";name="";reference="root";comment;metatype;schema;enable;method;secret}var d;(e=>{e.libSource=`
 `.trim(),e.libUri="ts:filename/extends.d.ts"})(d||(d={}));const g=Object.freeze(Object.defineProperty({__proto__:null,get globalTypeDeclare(){return d}},Symbol.toStringTag,{value:"Module"})),A=M({props:{value:{type:Object,required:!0},onSave:{type:Function,required:!1},language:{type:String,default:"typescript"}},setup(e,{expose:y}){const u=h(),a=_(u,e.value,t=>{e.value.value=t},{language:e.language});y(a),p(()=>[a.loaded.value,e.language],([t,r])=>{t&&n(()=>import("./editor.main-1c46f4d9.js").then(s=>s.e),["js/editor.main-1c46f4d9.js","js/editor.api-044d32ac.js","assets/editor-3c6d3aa1.css","js/preload-helper-f651ca80.js","js/monaco.contribution-6deb0597.js","assets/editor-61ff4be9.css"]).then(s=>{const l=a.editor.getModel();l&&s.editor.setModelLanguage(l,r)})}),x(()=>{n(()=>import("./editor.main-1c46f4d9.js").then(t=>t.e),["js/editor.main-1c46f4d9.js","js/editor.api-044d32ac.js","assets/editor-3c6d3aa1.css","js/preload-helper-f651ca80.js","js/monaco.contribution-6deb0597.js","assets/editor-61ff4be9.css"]).then(t=>{const r=t.languages.typescript.typescriptDefaults.getCompilerOptions();r.target=t.languages.typescript.ScriptTarget.ESNext,r.allowNonTsExtensions=!0,r.moduleResolution=t.languages.typescript.ModuleResolutionKind.NodeJs,r.esModuleInterop=!0,t.languages.typescript.typescriptDefaults.setCompilerOptions(r);const s="ts:filename/global.d.ts";t.editor.getModel(t.Uri.parse(s))||b.api.fn.types.get().then(l=>{const i=l;t.languages.typescript.typescriptDefaults.addExtraLib(i,s),t.editor.createModel(i,"typescript",t.Uri.parse(s))}),Object.keys(g).forEach(l=>{const i=g[l],{libSource:c,libUri:o}=i,m=t.Uri.parse(o);t.editor.getModel(m)||(t.languages.typescript.typescriptDefaults.addExtraLib(c,o),t.editor.createModel(c,"typescript",t.Uri.parse(o)))})})});const v=p(()=>a.loaded.value,t=>{v(),n(()=>import("./editor.main-1c46f4d9.js").then(r=>r.e),["js/editor.main-1c46f4d9.js","js/editor.api-044d32ac.js","assets/editor-3c6d3aa1.css","js/preload-helper-f651ca80.js","js/monaco.contribution-6deb0597.js","assets/editor-61ff4be9.css"]).then(r=>{a.editor.addCommand(r.KeyMod.CtrlCmd|r.KeyCode.KeyS,()=>{e.onSave?.()})})});return()=>f("div",{class:"h-full relative w-full"},[f("div",{class:"relative h-full w-full",ref:u},null),E(a.Snip)])}});export{A as F,S,j as a,N as b,w as d};
