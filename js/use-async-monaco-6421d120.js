import{_ as oe}from"./preload-helper-f651ca80.js";import{u as se,C as ce}from"./index-293d9537.js";import{c as d,al as ue}from"./app-c79d7097.js";import{e as le}from"./editor.main-b6230b8b.js";import{h as fe,u as de}from"./use-store-ref-10b7967e.js";import{u as he}from"./use-save-confirm-ddeeb50f.js";import{r as te,ab as H,d as ve,h as pe,ag as ye,o as ge,G as _e}from"./create-injection-key-6dff4bbb.js";var Q={},N={},x={},L={};Object.defineProperty(L,"__esModule",{value:!0});L.DummySourceCache=void 0;var me=function(){function i(){}return i.prototype.getFile=function(t){return Promise.resolve(void 0)},i.prototype.isFileAvailable=function(t){return Promise.resolve(!1)},i.prototype.storeFile=function(t,e){return Promise.resolve(void 0)},i.prototype.clear=function(){return Promise.resolve(void 0)},i}();L.DummySourceCache=me;var A={},K=d&&d.__awaiter||function(i,t,e,a){function n(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function c(u){try{o(a.next(u))}catch(f){s(f)}}function l(u){try{o(a.throw(u))}catch(f){s(f)}}function o(u){u.done?r(u.value):n(u.value).then(c,l)}o((a=a.apply(i,t||[])).next())})},B=d&&d.__generator||function(i,t){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},a,n,r,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(u){return l([o,u])}}function l(o){if(a)throw new TypeError("Generator is already executing.");for(;e;)try{if(a=1,n&&(r=o[0]&2?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[o[0]&2,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return e.label++,{value:o[1],done:!1};case 5:e.label++,n=o[1],o=[0];continue;case 7:o=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(o[0]===6||o[0]===2)){e=0;continue}if(o[0]===3&&(!r||o[1]>r[0]&&o[1]<r[3])){e.label=o[1];break}if(o[0]===6&&e.label<r[1]){e.label=r[1],r=o;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(o);break}r[2]&&e.ops.pop(),e.trys.pop();continue}o=t.call(i,e)}catch(u){o=[6,u],n=0}finally{a=r=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(A,"__esModule",{value:!0});A.UnpkgSourceResolver=void 0;var be=function(){function i(){}return i.prototype.resolvePackageJson=function(t,e,a){return K(this,void 0,void 0,function(){return B(this,function(n){switch(n.label){case 0:return[4,this.resolveFile("https://unpkg.com/".concat(t).concat(e?"@".concat(e):"").concat(a?"/".concat(a):"","/package.json"))];case 1:return[2,n.sent()]}})})},i.prototype.resolveSourceFile=function(t,e,a){return K(this,void 0,void 0,function(){return B(this,function(n){switch(n.label){case 0:return[4,this.resolveFile("https://unpkg.com/".concat(t).concat(e?"@".concat(e):"","/").concat(a))];case 1:return[2,n.sent()]}})})},i.prototype.resolveFile=function(t){return K(this,void 0,void 0,function(){var e;return B(this,function(a){switch(a.label){case 0:return[4,fetch(t,{method:"GET"})];case 1:return e=a.sent(),e.ok?[4,e.text()]:[3,3];case 2:return[2,a.sent()];case 3:if(e.status===404)return[2,""];throw Error("Error other than 404 while fetching from Unpkg at ".concat(t));case 4:return[2]}})})},i}();A.UnpkgSourceResolver=be;var $={},V={};function P(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}function Y(i,t){for(var e="",a=0,n=-1,r=0,s,c=0;c<=i.length;++c){if(c<i.length)s=i.charCodeAt(c);else{if(s===47)break;s=47}if(s===47){if(!(n===c-1||r===1))if(n!==c-1&&r===2){if(e.length<2||a!==2||e.charCodeAt(e.length-1)!==46||e.charCodeAt(e.length-2)!==46){if(e.length>2){var l=e.lastIndexOf("/");if(l!==e.length-1){l===-1?(e="",a=0):(e=e.slice(0,l),a=e.length-1-e.lastIndexOf("/")),n=c,r=0;continue}}else if(e.length===2||e.length===1){e="",a=0,n=c,r=0;continue}}t&&(e.length>0?e+="/..":e="..",a=2)}else e.length>0?e+="/"+i.slice(n+1,c):e=i.slice(n+1,c),a=c-n-1;n=c,r=0}else s===46&&r!==-1?++r:r=-1}return e}function we(i,t){var e=t.dir||t.root,a=t.base||(t.name||"")+(t.ext||"");return e?e===t.root?e+a:e+i+a:a}var D={resolve:function(){for(var t="",e=!1,a,n=arguments.length-1;n>=-1&&!e;n--){var r;n>=0?r=arguments[n]:(a===void 0&&(a=process.cwd()),r=a),P(r),r.length!==0&&(t=r+"/"+t,e=r.charCodeAt(0)===47)}return t=Y(t,!e),e?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(t){if(P(t),t.length===0)return".";var e=t.charCodeAt(0)===47,a=t.charCodeAt(t.length-1)===47;return t=Y(t,!e),t.length===0&&!e&&(t="."),t.length>0&&a&&(t+="/"),e?"/"+t:t},isAbsolute:function(t){return P(t),t.length>0&&t.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var t,e=0;e<arguments.length;++e){var a=arguments[e];P(a),a.length>0&&(t===void 0?t=a:t+="/"+a)}return t===void 0?".":D.normalize(t)},relative:function(t,e){if(P(t),P(e),t===e||(t=D.resolve(t),e=D.resolve(e),t===e))return"";for(var a=1;a<t.length&&t.charCodeAt(a)===47;++a);for(var n=t.length,r=n-a,s=1;s<e.length&&e.charCodeAt(s)===47;++s);for(var c=e.length,l=c-s,o=r<l?r:l,u=-1,f=0;f<=o;++f){if(f===o){if(l>o){if(e.charCodeAt(s+f)===47)return e.slice(s+f+1);if(f===0)return e.slice(s+f)}else r>o&&(t.charCodeAt(a+f)===47?u=f:f===0&&(u=0));break}var p=t.charCodeAt(a+f),y=e.charCodeAt(s+f);if(p!==y)break;p===47&&(u=f)}var h="";for(f=a+u+1;f<=n;++f)(f===n||t.charCodeAt(f)===47)&&(h.length===0?h+="..":h+="/..");return h.length>0?h+e.slice(s+u):(s+=u,e.charCodeAt(s)===47&&++s,e.slice(s))},_makeLong:function(t){return t},dirname:function(t){if(P(t),t.length===0)return".";for(var e=t.charCodeAt(0),a=e===47,n=-1,r=!0,s=t.length-1;s>=1;--s)if(e=t.charCodeAt(s),e===47){if(!r){n=s;break}}else r=!1;return n===-1?a?"/":".":a&&n===1?"//":t.slice(0,n)},basename:function(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');P(t);var a=0,n=-1,r=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";var c=e.length-1,l=-1;for(s=t.length-1;s>=0;--s){var o=t.charCodeAt(s);if(o===47){if(!r){a=s+1;break}}else l===-1&&(r=!1,l=s+1),c>=0&&(o===e.charCodeAt(c)?--c===-1&&(n=s):(c=-1,n=l))}return a===n?n=l:n===-1&&(n=t.length),t.slice(a,n)}else{for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!r){a=s+1;break}}else n===-1&&(r=!1,n=s+1);return n===-1?"":t.slice(a,n)}},extname:function(t){P(t);for(var e=-1,a=0,n=-1,r=!0,s=0,c=t.length-1;c>=0;--c){var l=t.charCodeAt(c);if(l===47){if(!r){a=c+1;break}continue}n===-1&&(r=!1,n=c+1),l===46?e===-1?e=c:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===a+1?"":t.slice(e,n)},format:function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return we("/",t)},parse:function(t){P(t);var e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;var a=t.charCodeAt(0),n=a===47,r;n?(e.root="/",r=1):r=0;for(var s=-1,c=0,l=-1,o=!0,u=t.length-1,f=0;u>=r;--u){if(a=t.charCodeAt(u),a===47){if(!o){c=u+1;break}continue}l===-1&&(o=!1,l=u+1),a===46?s===-1?s=u:f!==1&&(f=1):s!==-1&&(f=-1)}return s===-1||l===-1||f===0||f===1&&s===l-1&&s===c+1?l!==-1&&(c===0&&n?e.base=e.name=t.slice(1,l):e.base=e.name=t.slice(c,l)):(c===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,l)):(e.name=t.slice(c,s),e.base=t.slice(c,l)),e.ext=t.slice(s,l)),c>0?e.dir=t.slice(0,c-1):n&&(e.dir="/"),e},sep:"/",delimiter:":",win32:null,posix:null};D.posix=D;var G=D,ke=d&&d.__createBinding||(Object.create?function(i,t,e,a){a===void 0&&(a=e);var n=Object.getOwnPropertyDescriptor(t,e);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(i,a,n)}:function(i,t,e,a){a===void 0&&(a=e),i[a]=t[e]}),Pe=d&&d.__setModuleDefault||(Object.create?function(i,t){Object.defineProperty(i,"default",{enumerable:!0,value:t})}:function(i,t){i.default=t}),Se=d&&d.__importStar||function(i){if(i&&i.__esModule)return i;var t={};if(i!=null)for(var e in i)e!=="default"&&Object.prototype.hasOwnProperty.call(i,e)&&ke(t,i,e);return Pe(t,i),t},Ce=d&&d.__read||function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var a=e.call(i),n,r=[],s;try{for(;(t===void 0||t-- >0)&&!(n=a.next()).done;)r.push(n.value)}catch(c){s={error:c}}finally{try{n&&!n.done&&(e=a.return)&&e.call(a)}finally{if(s)throw s.error}}return r},Oe=d&&d.__spreadArray||function(i,t,e){if(e||arguments.length===2)for(var a=0,n=t.length,r;a<n;a++)(r||!(a in t))&&(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return i.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(V,"__esModule",{value:!0});V.DependencyParser=void 0;var je=Se(G),De=function(){function i(){this.REGEX_CLEAN=/[\n|\r]/g,this.REGEX_DETECT_IMPORT=/(?:(?:(?:import)|(?:export))(?:.)*?from\s+["']([^"']+)["'])|(?:require(?:\s+)?\(["']([^"']+)["']\))|(?:\/+\s+<reference\s+path=["']([^"']+)["']\s+\/>)/g,this.REGEX_NODE_MODULE=/^node:([\w\W\/]+)$/}return i.prototype.parseDependencies=function(t,e){var a=this,n=t;return Oe([],Ce(n.matchAll(this.REGEX_DETECT_IMPORT)),!1).map(function(r){var s,c;return(c=(s=r[1])!==null&&s!==void 0?s:r[2])!==null&&c!==void 0?c:r[3]}).filter(function(r){return!!r}).map(function(r){return a.resolvePath(r,e)})},i.prototype.resolvePath=function(t,e){var a=t.match(this.REGEX_NODE_MODULE);if(a)return{kind:"relative-in-package",packageName:"@types/node",importPath:"".concat(a[1],".d.ts"),sourcePath:""};if(typeof e=="string"){if(t.startsWith("."))return{kind:"relative",importPath:t,sourcePath:e};if(t.startsWith("@")){var n=t.split("/");return{kind:"package",packageName:"".concat(n[0],"/").concat(n[1]),importPath:n.slice(2).join("/")}}else{var n=t.split("/");return{kind:"package",packageName:n[0],importPath:n.slice(1).join("/")}}}else switch(e.kind){case"package":throw Error("TODO?");case"relative":throw Error("TODO2?");case"relative-in-package":if(t.startsWith("."))return{kind:"relative-in-package",packageName:e.packageName,sourcePath:je.join(e.sourcePath,e.importPath),importPath:t};if(t.startsWith("@")){var n=t.split("/");return{kind:"package",packageName:"".concat(n[0],"/").concat(n[1]),importPath:n.slice(2).join("/")}}else{var n=t.split("/");return{kind:"package",packageName:n[0],importPath:n.slice(1).join("/")}}}},i}();V.DependencyParser=De;var R={},Ae=d&&d.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(R,"__esModule",{value:!0});R.importResourcePathToString=void 0;var W=Ae(G),Re=function(i){var t;switch(i.kind){case"package":return W.default.join(i.packageName,(t=i.importPath)!==null&&t!==void 0?t:"","package.json");case"relative":return W.default.join(i.sourcePath,i.importPath);case"relative-in-package":return W.default.join(i.packageName,i.sourcePath,i.importPath)}};R.importResourcePathToString=Re;var T={};Object.defineProperty(T,"__esModule",{value:!0});T.invokeUpdate=void 0;var Te=function(i,t){var e,a="".concat(i.type,": ");switch(i.type){case"CodeChanged":a+="";break;case"ResolveNewImports":a+="";break;case"LookedUpTypeFile":a+='"'.concat(i.path,'" was ').concat(i.success?"sucessfully":"not sucessfully"," looked up");break;case"AttemptedLookUpFile":a+='"'.concat(i.path,'" was ').concat(i.success?"sucessfully":"not sucessfully"," attempted to looked up");break;case"LookedUpPackage":a+='package.json for package "'.concat(i.package,'" was ').concat(i.success?"sucessfully":"not sucessfully"," looked up").concat(i.definitelyTyped?" (found in definitely typed repo)":"");break;case"LoadedFromCache":a+='"'.concat(i.importPath,'" was loaded from cache');break;case"StoredToCache":a+='"'.concat(i.importPath,'" was stored to cache');break}a.endsWith(": ")&&(a=a.slice(void 0,-2)),(e=t.onUpdate)===null||e===void 0||e.call(t,i,a)};T.invokeUpdate=Te;var M={};Object.defineProperty(M,"__esModule",{value:!0});M.RecursionDepth=void 0;var Me=function(){function i(t,e,a){e===void 0&&(e=0),a===void 0&&(a=0),this.options=t,this.fileRecursionDepth=e,this.packageRecursionDepth=a}return i.prototype.nextPackage=function(){return new i(this.options,this.fileRecursionDepth,this.packageRecursionDepth+1)},i.prototype.nextFile=function(){return new i(this.options,this.fileRecursionDepth+1,this.packageRecursionDepth)},i.prototype.same=function(){return new i(this.options,this.fileRecursionDepth,this.packageRecursionDepth)},i.prototype.shouldStop=function(){return this.options.fileRecursionDepth>0&&this.fileRecursionDepth>=this.options.fileRecursionDepth||this.options.packageRecursionDepth>0&&this.packageRecursionDepth>=this.options.packageRecursionDepth},i}();M.RecursionDepth=Me;var U=d&&d.__assign||function(){return U=Object.assign||function(i){for(var t,e=1,a=arguments.length;e<a;e++){t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},U.apply(this,arguments)},Ee=d&&d.__createBinding||(Object.create?function(i,t,e,a){a===void 0&&(a=e);var n=Object.getOwnPropertyDescriptor(t,e);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(i,a,n)}:function(i,t,e,a){a===void 0&&(a=e),i[a]=t[e]}),Fe=d&&d.__setModuleDefault||(Object.create?function(i,t){Object.defineProperty(i,"default",{enumerable:!0,value:t})}:function(i,t){i.default=t}),Ue=d&&d.__importStar||function(i){if(i&&i.__esModule)return i;var t={};if(i!=null)for(var e in i)e!=="default"&&Object.prototype.hasOwnProperty.call(i,e)&&Ee(t,i,e);return Fe(t,i),t},C=d&&d.__awaiter||function(i,t,e,a){function n(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function c(u){try{o(a.next(u))}catch(f){s(f)}}function l(u){try{o(a.throw(u))}catch(f){s(f)}}function o(u){u.done?r(u.value):n(u.value).then(c,l)}o((a=a.apply(i,t||[])).next())})},O=d&&d.__generator||function(i,t){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},a,n,r,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(u){return l([o,u])}}function l(o){if(a)throw new TypeError("Generator is already executing.");for(;e;)try{if(a=1,n&&(r=o[0]&2?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[o[0]&2,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return e.label++,{value:o[1],done:!1};case 5:e.label++,n=o[1],o=[0];continue;case 7:o=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(o[0]===6||o[0]===2)){e=0;continue}if(o[0]===3&&(!r||o[1]>r[0]&&o[1]<r[3])){e.label=o[1];break}if(o[0]===6&&e.label<r[1]){e.label=r[1],r=o;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(o);break}r[2]&&e.ops.pop(),e.trys.pop();continue}o=t.call(i,e)}catch(u){o=[6,u],n=0}finally{a=r=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},X=d&&d.__values||function(i){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&i[t],a=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ie=d&&d.__read||function(i,t){var e=typeof Symbol=="function"&&i[Symbol.iterator];if(!e)return i;var a=e.call(i),n,r=[],s;try{for(;(t===void 0||t-- >0)&&!(n=a.next()).done;)r.push(n.value)}catch(c){s={error:c}}finally{try{n&&!n.done&&(e=a.return)&&e.call(a)}finally{if(s)throw s.error}}return r};Object.defineProperty($,"__esModule",{value:!0});$.ImportResolver=void 0;var Ne=V,xe=R,_=Ue(G),b=T,Le=M,$e=function(){function i(t){var e,a;if(this.options=t,this.loadedFiles=[],this.dependencyParser=new Ne.DependencyParser,this.cache=t.sourceCache,this.sourceResolver=t.sourceResolver,this.newImportsResolved=!1,this.monaco=t.monaco,t.preloadPackages&&t.versions){this.versions=t.versions;try{for(var n=X(Object.entries(t.versions)),r=n.next();!r.done;r=n.next()){var s=Ie(r.value,2),c=s[0],l=s[1];this.resolveImport({kind:"package",packageName:c,importPath:""},new Le.RecursionDepth(this.options)).catch(function(o){console.error(o)})}}catch(o){e={error:o}}finally{try{r&&!r.done&&(a=n.return)&&a.call(n)}finally{if(e)throw e.error}}}}return i.prototype.wereNewImportsResolved=function(){return this.newImportsResolved},i.prototype.resetNewImportsResolved=function(){this.newImportsResolved=!1},i.prototype.resolveImportsInFile=function(t,e,a){var n,r,s;return C(this,void 0,void 0,function(){var c,l,o,u,f,p,y,h;return O(this,function(v){switch(v.label){case 0:if(a.shouldStop())return[2];c=this.dependencyParser.parseDependencies(t,e),v.label=1;case 1:v.trys.push([1,8,9,10]),l=X(c),o=l.next(),v.label=2;case 2:if(o.done)return[3,7];u=o.value,v.label=3;case 3:return v.trys.push([3,5,,6]),[4,this.resolveImport(u,a)];case 4:return v.sent(),[3,6];case 5:return f=v.sent(),this.options.onError?(r=(n=this.options).onError)===null||r===void 0||r.call(n,(s=f.message)!==null&&s!==void 0?s:f):console.error(f),[3,6];case 6:return o=l.next(),[3,2];case 7:return[3,10];case 8:return p=v.sent(),y={error:p},[3,10];case 9:try{o&&!o.done&&(h=l.return)&&h.call(l)}finally{if(y)throw y.error}return[7];case 10:return[2]}})})},i.prototype.resolveImport=function(t,e){return C(this,void 0,void 0,function(){var a,n,r;return O(this,function(s){switch(s.label){case 0:if(a=this.hashImportResourcePath(t),this.loadedFiles.includes(a))return[2];switch(this.loadedFiles.push(a),n=t.kind,n){case"package":return[3,1];case"relative":return[3,5];case"relative-in-package":return[3,6]}return[3,8];case 1:return[4,this.resolveImportFromPackageRoot(t)];case 2:return r=s.sent(),r?[4,this.resolveImportInPackage(r,e.nextPackage().nextFile())]:[3,4];case 3:return[2,s.sent()];case 4:return[3,8];case 5:throw Error("Not implemented yet");case 6:return[4,this.resolveImportInPackage(t,e.nextFile())];case 7:return[2,s.sent()];case 8:return[2]}})})},i.prototype.resolveImportInPackage=function(t,e){return C(this,void 0,void 0,function(){var a,n,r;return O(this,function(s){switch(s.label){case 0:return[4,this.loadSourceFileContents(t)];case 1:return a=s.sent(),a?(n=a.source,r=a.at,this.createModel(n,this.monaco.Uri.parse(this.options.fileRootPath+_.join("node_modules/".concat(t.packageName),r))),[4,this.resolveImportsInFile(n,{kind:"relative-in-package",packageName:t.packageName,sourcePath:_.dirname(r),importPath:""},e)]):[3,3];case 2:s.sent(),s.label=3;case 3:return[2]}})})},i.prototype.resolveImportFromPackageRoot=function(t){var e,a,n,r,s,c,l,o,u;return C(this,void 0,void 0,function(){var f,p,y,h,v,w,m,g,k,w;return O(this,function(S){switch(S.label){case 0:return f={type:"LookedUpPackage",package:t.packageName,definitelyTyped:!1,success:!1},this.options.onlySpecifiedPackages&&!(!((e=this.versions)===null||e===void 0)&&e[t.packageName])&&!(!((a=this.versions)===null||a===void 0)&&a["@types/"+t.packageName])?((0,b.invokeUpdate)(f,this.options),[2]):(p=(r=(n=t.importPath)===null||n===void 0?void 0:n.length)!==null&&r!==void 0?r:0>0,y=p?"/".concat(t.importPath):"",[4,this.resolvePackageJson(t.packageName,(s=this.versions)===null||s===void 0?void 0:s[t.packageName],p?t.importPath:void 0)]);case 1:return h=S.sent(),!h&&p?[4,this.resolvePackageJson(t.packageName,(c=this.versions)===null||c===void 0?void 0:c[t.packageName])]:[3,3];case 2:h=S.sent(),y="",S.label=3;case 3:return h?(v=JSON.parse(h),v.typings||v.types?(w=v.typings||v.types,this.createModel(h,this.monaco.Uri.parse("".concat(this.options.fileRootPath,"node_modules/").concat(t.packageName).concat(y,"/package.json"))),(0,b.invokeUpdate)({type:"LookedUpPackage",package:t.packageName,definitelyTyped:!1,success:!0},this.options),this.setVersion(t.packageName,v.version),[2,{kind:"relative-in-package",packageName:t.packageName,sourcePath:"",importPath:_.join((l=t.importPath)!==null&&l!==void 0?l:"",w.startsWith("./")?w.slice(2):w)}]):[3,4]):[3,7];case 4:return m="@types/".concat(t.packageName.startsWith("@")?t.packageName.slice(1).replace(/\//,"__"):t.packageName),[4,this.resolvePackageJson(m,(o=this.versions)===null||o===void 0?void 0:o[m])];case 5:if(g=S.sent(),g){if(k=JSON.parse(g),k.typings||k.types)return w=k.typings||k.types,this.createModel(g,this.monaco.Uri.parse("".concat(this.options.fileRootPath,"node_modules/").concat(m,"/package.json"))),(0,b.invokeUpdate)({type:"LookedUpPackage",package:m,definitelyTyped:!0,success:!0},this.options),this.setVersion(m,k.version),[2,{kind:"relative-in-package",packageName:m,sourcePath:"",importPath:_.join((u=t.importPath)!==null&&u!==void 0?u:"",w.startsWith("./")?w.slice(2):w)}];(0,b.invokeUpdate)(f,this.options)}else(0,b.invokeUpdate)(f,this.options);S.label=6;case 6:return[3,8];case 7:(0,b.invokeUpdate)(f,this.options),S.label=8;case 8:return[2]}})})},i.prototype.loadSourceFileContents=function(t){return C(this,void 0,void 0,function(){var e,a,n,r,s,h,c,l,o,y,h,u,f,p,y,h,v,m;return O(this,function(g){switch(g.label){case 0:return e=_.join(t.packageName,t.sourcePath,t.importPath),a={type:"LookedUpTypeFile",path:e,definitelyTyped:!1,success:!1},n=t.packageName,r=this.getVersion(t.packageName),s=[".d.ts","/index.d.ts",".ts",".tsx","/index.ts","/index.tsx"],s.map(function(k){return t.importPath.endsWith(k)}).reduce(function(k,w){return k||w},!1)?[4,this.resolveSourceFile(n,r,_.join(t.sourcePath,t.importPath))]:[3,2];case 1:return h=g.sent(),h?[2,{source:h,at:_.join(t.sourcePath,t.importPath)}]:[3,9];case 2:g.trys.push([2,7,8,9]),c=X(s),l=c.next(),g.label=3;case 3:return l.done?[3,6]:(o=l.value,y=_.join(t.sourcePath,t.importPath)+o,[4,this.resolveSourceFile(n,r,y)]);case 4:if(h=g.sent(),(0,b.invokeUpdate)({type:"AttemptedLookUpFile",path:_.join(n,y),success:!!h},this.options),h)return(0,b.invokeUpdate)({type:"LookedUpTypeFile",path:_.join(n,y),success:!0},this.options),[2,{source:h,at:y}];g.label=5;case 5:return l=c.next(),[3,3];case 6:return[3,9];case 7:return u=g.sent(),v={error:u},[3,9];case 8:try{l&&!l.done&&(m=c.return)&&m.call(c)}finally{if(v)throw v.error}return[7];case 9:return[4,this.resolvePackageJson(n,r,_.join(t.sourcePath,t.importPath))];case 10:return f=g.sent(),f?(p=JSON.parse(f).types,p?(y=_.join(t.sourcePath,t.importPath,p),[4,this.resolveSourceFile(n,r,y)]):[3,12]):[3,12];case 11:if(h=g.sent(),h)return(0,b.invokeUpdate)({type:"LookedUpTypeFile",path:_.join(n,y),success:!0},this.options),[2,{source:h,at:y}];g.label=12;case 12:return(0,b.invokeUpdate)(a,this.options),[2,null]}})})},i.prototype.getVersion=function(t){var e;return(e=this.versions)===null||e===void 0?void 0:e[t]},i.prototype.setVersions=function(t){var e,a;this.versions=t,(a=(e=this.options).onUpdateVersions)===null||a===void 0||a.call(e,t)},i.prototype.setVersion=function(t,e){var a;this.setVersions(U(U({},this.versions),(a={},a[t]=e,a)))},i.prototype.createModel=function(t,e){e=e.with({path:e.path.replace("@types/","")}),this.monaco.editor.getModel(e)||(this.monaco.editor.createModel(t,"typescript",e),this.newImportsResolved=!0)},i.prototype.hashImportResourcePath=function(t){return(0,xe.importResourcePathToString)(t)},i.prototype.resolvePackageJson=function(t,e,a){return C(this,void 0,void 0,function(){var n,r,s,c;return O(this,function(l){switch(l.label){case 0:return n=_.join(t+(e?"@".concat(e):""),a??"","package.json"),r=!1,s=void 0,this.cache.isFileAvailable?[4,this.cache.isFileAvailable(n)]:[3,2];case 1:return r=l.sent(),[3,4];case 2:return[4,this.cache.getFile(n)];case 3:s=l.sent(),r=s!==void 0,l.label=4;case 4:return r?s==null?[3,5]:(c=s,[3,7]):[3,8];case 5:return[4,this.cache.getFile(n)];case 6:c=l.sent(),l.label=7;case 7:return[2,c];case 8:return[4,this.sourceResolver.resolvePackageJson(t,e,a)];case 9:return s=l.sent(),s&&this.cache.storeFile(n,s),[2,s]}})})},i.prototype.resolveSourceFile=function(t,e,a){return C(this,void 0,void 0,function(){var n,r,s,c;return O(this,function(l){switch(l.label){case 0:return n=_.join(t+(e?"@".concat(e):""),a),r=!1,s=void 0,this.cache.isFileAvailable?[4,this.cache.isFileAvailable(n)]:[3,2];case 1:return r=l.sent(),[3,4];case 2:return[4,this.cache.getFile(n)];case 3:s=l.sent(),r=s!==void 0,l.label=4;case 4:return r?((0,b.invokeUpdate)({type:"LoadedFromCache",importPath:n},this.options),s==null?[3,5]:(c=s,[3,7])):[3,8];case 5:return[4,this.cache.getFile(n)];case 6:c=l.sent(),l.label=7;case 7:return[2,c];case 8:return[4,this.sourceResolver.resolveSourceFile(t,e,a)];case 9:return s=l.sent(),s&&((0,b.invokeUpdate)({type:"StoredToCache",importPath:n},this.options),this.cache.storeFile(n,s)),[2,s]}})})},i}();$.ImportResolver=$e;var j=d&&d.__assign||function(){return j=Object.assign||function(i){for(var t,e=1,a=arguments.length;e<a;e++){t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},j.apply(this,arguments)},Ve=d&&d.__createBinding||(Object.create?function(i,t,e,a){a===void 0&&(a=e);var n=Object.getOwnPropertyDescriptor(t,e);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(i,a,n)}:function(i,t,e,a){a===void 0&&(a=e),i[a]=t[e]}),Ge=d&&d.__setModuleDefault||(Object.create?function(i,t){Object.defineProperty(i,"default",{enumerable:!0,value:t})}:function(i,t){i.default=t}),Je=d&&d.__importStar||function(i){if(i&&i.__esModule)return i;var t={};if(i!=null)for(var e in i)e!=="default"&&Object.prototype.hasOwnProperty.call(i,e)&&Ve(t,i,e);return Ge(t,i),t},E=d&&d.__awaiter||function(i,t,e,a){function n(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function c(u){try{o(a.next(u))}catch(f){s(f)}}function l(u){try{o(a.throw(u))}catch(f){s(f)}}function o(u){u.done?r(u.value):n(u.value).then(c,l)}o((a=a.apply(i,t||[])).next())})},F=d&&d.__generator||function(i,t){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},a,n,r,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(u){return l([o,u])}}function l(o){if(a)throw new TypeError("Generator is already executing.");for(;e;)try{if(a=1,n&&(r=o[0]&2?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[o[0]&2,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return e.label++,{value:o[1],done:!1};case 5:e.label++,n=o[1],o=[0];continue;case 7:o=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(o[0]===6||o[0]===2)){e=0;continue}if(o[0]===3&&(!r||o[1]>r[0]&&o[1]<r[3])){e.label=o[1];break}if(o[0]===6&&e.label<r[1]){e.label=r[1],r=o;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(o);break}r[2]&&e.ops.pop(),e.trys.pop();continue}o=t.call(i,e)}catch(u){o=[6,u],n=0}finally{a=r=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}},Ke=d&&d.__values||function(i){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&i[t],a=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(x,"__esModule",{value:!0});x.AutoTypingsCore=void 0;var Be=L,We=A,Xe=$,ze=Je(G),Z=T,qe=M,He=function(){function i(t,e){var a=this;this.editor=t,this.options=e,this.disposables=[],this.importResolver=new Xe.ImportResolver(e);var n=t.onDidChangeModelContent(function(r){a.debouncedResolveContents()});this.disposables.push(n),this.resolveContents(),e.dontAdaptEditorOptions||e.monaco.languages.typescript.typescriptDefaults.setCompilerOptions(j(j({},e.monaco.languages.typescript.typescriptDefaults.getCompilerOptions()),{moduleResolution:e.monaco.languages.typescript.ModuleResolutionKind.NodeJs,allowSyntheticDefaultImports:!0,rootDir:e.fileRootPath}))}return i.create=function(t,e){var a;return E(this,void 0,void 0,function(){var n;return F(this,function(r){if(e?.shareCache&&e.sourceCache&&!i.sharedCache&&(i.sharedCache=e.sourceCache),n=e?.monaco,!n)throw new Error("monacoInstance not found, you can specify the monaco instance via options.monaco");return[2,new i(t,j(j({fileRootPath:"inmemory://model/",onlySpecifiedPackages:!1,preloadPackages:!1,shareCache:!1,dontAdaptEditorOptions:!1,dontRefreshModelValueAfterResolvement:!1,sourceCache:(a=i.sharedCache)!==null&&a!==void 0?a:new Be.DummySourceCache,sourceResolver:new We.UnpkgSourceResolver,debounceDuration:4e3,fileRecursionDepth:10,packageRecursionDepth:3},e),{monaco:n}))]})})},i.prototype.dispose=function(){var t,e;try{for(var a=Ke(this.disposables),n=a.next();!n.done;n=a.next()){var r=n.value;r.dispose()}}catch(s){t={error:s}}finally{try{n&&!n.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}},i.prototype.setVersions=function(t){this.importResolver.setVersions(t),this.options.versions=t},i.prototype.clearCache=function(){return E(this,void 0,void 0,function(){return F(this,function(t){switch(t.label){case 0:return[4,this.options.sourceCache.clear()];case 1:return t.sent(),[2]}})})},i.prototype.debouncedResolveContents=function(){var t=this;this.isResolving||((0,Z.invokeUpdate)({type:"CodeChanged"},this.options),this.options.debounceDuration<=0?this.resolveContents():(this.debounceTimer!==void 0&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(function(){return E(t,void 0,void 0,function(){return F(this,function(e){switch(e.label){case 0:return[4,this.resolveContents()];case 1:return e.sent(),this.debounceTimer=void 0,[2]}})})},this.options.debounceDuration)))},i.prototype.resolveContents=function(){var t;return E(this,void 0,void 0,function(){var e,a,n,r;return F(this,function(s){switch(s.label){case 0:if(this.isResolving=!0,(0,Z.invokeUpdate)({type:"ResolveNewImports"},this.options),e=this.editor.getModel(),!e)throw Error("No model");a=e.getLinesContent(),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.importResolver.resolveImportsInFile(a.join(`
`),ze.dirname(e.uri.toString()),new qe.RecursionDepth(this.options))];case 2:return s.sent(),[3,4];case 3:if(n=s.sent(),this.options.onError)this.options.onError((t=n.message)!==null&&t!==void 0?t:n);else throw n;return[3,4];case 4:return this.importResolver.wereNewImportsResolved()&&(this.options.dontRefreshModelValueAfterResolvement||(r=this.editor.getPosition(),e.setValue(e.getValue()),r&&this.editor.setPosition(r)),this.importResolver.resetNewImportsResolved()),this.isResolving=!1,[2]}})})},i}();x.AutoTypingsCore=He;const Qe=ue(le);var Ye=d&&d.__extends||function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(a[r]=n[r])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function a(){this.constructor=t}t.prototype=e===null?Object.create(e):(a.prototype=e.prototype,new a)}}(),I=d&&d.__assign||function(){return I=Object.assign||function(i){for(var t,e=1,a=arguments.length;e<a;e++){t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},I.apply(this,arguments)},Ze=d&&d.__createBinding||(Object.create?function(i,t,e,a){a===void 0&&(a=e);var n=Object.getOwnPropertyDescriptor(t,e);(!n||("get"in n?!t.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(i,a,n)}:function(i,t,e,a){a===void 0&&(a=e),i[a]=t[e]}),et=d&&d.__setModuleDefault||(Object.create?function(i,t){Object.defineProperty(i,"default",{enumerable:!0,value:t})}:function(i,t){i.default=t}),tt=d&&d.__importStar||function(i){if(i&&i.__esModule)return i;var t={};if(i!=null)for(var e in i)e!=="default"&&Object.prototype.hasOwnProperty.call(i,e)&&Ze(t,i,e);return et(t,i),t},rt=d&&d.__awaiter||function(i,t,e,a){function n(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function c(u){try{o(a.next(u))}catch(f){s(f)}}function l(u){try{o(a.throw(u))}catch(f){s(f)}}function o(u){u.done?r(u.value):n(u.value).then(c,l)}o((a=a.apply(i,t||[])).next())})},nt=d&&d.__generator||function(i,t){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},a,n,r,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(u){return l([o,u])}}function l(o){if(a)throw new TypeError("Generator is already executing.");for(;e;)try{if(a=1,n&&(r=o[0]&2?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[o[0]&2,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return e.label++,{value:o[1],done:!1};case 5:e.label++,n=o[1],o=[0];continue;case 7:o=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(o[0]===6||o[0]===2)){e=0;continue}if(o[0]===3&&(!r||o[1]>r[0]&&o[1]<r[3])){e.label=o[1];break}if(o[0]===6&&e.label<r[1]){e.label=r[1],r=o;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(o);break}r[2]&&e.ops.pop(),e.trys.pop();continue}o=t.call(i,e)}catch(u){o=[6,u],n=0}finally{a=r=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(N,"__esModule",{value:!0});N.AutoTypings=void 0;var ee=x,it=function(i){Ye(t,i);function t(e,a){return i.call(this,e,a)||this}return t.create=function(e,a){var n;return rt(this,void 0,void 0,function(){var r,s,c,l,o,u;return nt(this,function(f){switch(f.label){case 0:return s=(r=ee.AutoTypingsCore).create,c=[e],l=[I({},a)],u={},(n=a?.monaco)!==null&&n!==void 0?(o=n,[3,3]):[3,1];case 1:return[4,Promise.resolve().then(function(){return tt(Qe)})];case 2:o=f.sent(),f.label=3;case 3:return[4,s.apply(r,c.concat([I.apply(void 0,l.concat([(u.monaco=o,u)]))]))];case 4:return[2,f.sent()]}})})},t}(ee.AutoTypingsCore);N.AutoTypings=it;var J={},z=d&&d.__awaiter||function(i,t,e,a){function n(r){return r instanceof e?r:new e(function(s){s(r)})}return new(e||(e=Promise))(function(r,s){function c(u){try{o(a.next(u))}catch(f){s(f)}}function l(u){try{o(a.throw(u))}catch(f){s(f)}}function o(u){u.done?r(u.value):n(u.value).then(c,l)}o((a=a.apply(i,t||[])).next())})},q=d&&d.__generator||function(i,t){var e={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},a,n,r,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(o){return function(u){return l([o,u])}}function l(o){if(a)throw new TypeError("Generator is already executing.");for(;e;)try{if(a=1,n&&(r=o[0]&2?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[o[0]&2,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return e.label++,{value:o[1],done:!1};case 5:e.label++,n=o[1],o=[0];continue;case 7:o=e.ops.pop(),e.trys.pop();continue;default:if(r=e.trys,!(r=r.length>0&&r[r.length-1])&&(o[0]===6||o[0]===2)){e=0;continue}if(o[0]===3&&(!r||o[1]>r[0]&&o[1]<r[3])){e.label=o[1];break}if(o[0]===6&&e.label<r[1]){e.label=r[1],r=o;break}if(r&&e.label<r[2]){e.label=r[2],e.ops.push(o);break}r[2]&&e.ops.pop(),e.trys.pop();continue}o=t.call(i,e)}catch(u){o=[6,u],n=0}finally{a=r=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}};Object.defineProperty(J,"__esModule",{value:!0});J.LocalStorageCache=void 0;var at=function(){function i(){this.localCache={}}return i.prototype.getFile=function(t){var e;return z(this,void 0,void 0,function(){return q(this,function(a){try{return[2,(e=localStorage.getItem(i.LOCALSTORAGE_PREFIX+t))!==null&&e!==void 0?e:void 0]}catch{return[2,this.localCache[t]]}return[2]})})},i.prototype.storeFile=function(t,e){return z(this,void 0,void 0,function(){return q(this,function(a){this.localCache[t]=e;try{localStorage.setItem(i.LOCALSTORAGE_PREFIX+t,e)}catch{}return[2]})})},i.prototype.clear=function(){return z(this,void 0,void 0,function(){var t,e;return q(this,function(a){for(this.localCache={},t=0;t<localStorage.length;t++)e=localStorage.key(t),e?.startsWith(i.LOCALSTORAGE_PREFIX)&&localStorage.removeItem(e);return[2]})})},i.LOCALSTORAGE_PREFIX="__autotyper_cache_",i}();J.LocalStorageCache=at;var re={};Object.defineProperty(re,"__esModule",{value:!0});var ne={};Object.defineProperty(ne,"__esModule",{value:!0});var ie={};Object.defineProperty(ie,"__esModule",{value:!0});var ae={};Object.defineProperty(ae,"__esModule",{value:!0});(function(i){var t=d&&d.__createBinding||(Object.create?function(a,n,r,s){s===void 0&&(s=r);var c=Object.getOwnPropertyDescriptor(n,r);(!c||("get"in c?!n.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return n[r]}}),Object.defineProperty(a,s,c)}:function(a,n,r,s){s===void 0&&(s=r),a[s]=n[r]}),e=d&&d.__exportStar||function(a,n){for(var r in a)r!=="default"&&!Object.prototype.hasOwnProperty.call(n,r)&&t(n,a,r)};Object.defineProperty(i,"__esModule",{value:!0}),e(N,i),e(R,i),e(J,i),e(re,i),e(ne,i),e(ie,i),e(ae,i),e(A,i)})(Q);const ht=i=>{const t=te(i.value);return H(()=>i.value,e=>{t.value=e}),t},vt=(i,t,e,a)=>{const{unSaveConfirm:n=!0,...r}=a;he(n,()=>!1,"是否确定离开？"),se();const s=te(!1),c={editor:null,module:null,loaded:null,Snip:ve({setup(){return()=>s.value?null:pe(ce,{description:"Monaco 体积较大耐心等待加载完成..."})}})},{isDark:l}=fe(de);ye(t),c.loaded=s,H(()=>t.value,f=>{const p=c.editor;p&&f!=p.getValue()&&p.setValue(f)}),H(()=>l.value,f=>{c.editor.updateOptions({theme:f?"dark":"light"})});let o=null,u;return ge(()=>{oe(()=>import("./editor.main-b6230b8b.js").then(f=>f.e),["js/editor.main-b6230b8b.js","js/editor.api-f9505e34.js","assets/editor-3c6d3aa1.css","js/preload-helper-f651ca80.js","js/monaco.contribution-88351d90.js","assets/editor-61ff4be9.css"]).then(f=>{const p={...r,value:t.value,theme:l.value?"dark":"light",automaticLayout:!0,cursorStyle:"line-thin",minimap:{enabled:!1},tabSize:2,fontFamily:"operator mono, fira code, monaco, monospace",fontSize:14};if(p.language==="typescript"){const h=f.editor.createModel(t.value,"typescript");Object.assign(p,{model:h}),o=h}c.editor=f.editor.create(i.value,p),u=Q.AutoTypings.create(c.editor,{sourceCache:new Q.LocalStorageCache}),c.module=f,["onKeyDown","onDidPaste","onDidBlurEditorText"].forEach(h=>{const v=c.editor;v[h](()=>{const m=v.getValue();e(m)})}),c.editor.addAction({id:"trigger-suggestion",label:"Trigger Suggestion",keybindings:[f.KeyMod.Shift|f.KeyCode.Space],run:()=>{c.editor.trigger("","editor.action.triggerSuggest",{})}}),c.editor.addAction({id:"format",label:"Format Document",keybindings:[f.KeyMod.Shift|f.KeyCode.KeyF|f.KeyMod.CtrlCmd],run:()=>{c.editor.trigger("","editor.action.formatDocument",{})}});function y(h){const v=[f.KeyCode.KeyS,f.KeyCode.KeyF];(h.ctrlKey||h.metaKey)&&v.includes(h.keyCode)&&h.preventDefault()}c.editor.onKeyDown(h=>{y(h)}),c.editor.onKeyUp(h=>{y(h)}),s.value=!0})}),_e(async()=>{c.editor?.dispose?.(),c.editor=null,c.module=null,await u.then(f=>{f?.dispose()}),o?.dispose()}),c};export{ht as a,G as p,vt as u};
